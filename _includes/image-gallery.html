<!-- Image Gallery Component 
     Usage: {% include image-gallery.html %}
     
     Expected format in page frontmatter:
     gallery_images:
       - src: /assets/images/image1.jpg
         caption: "Description"
       - src: /assets/images/image2.jpg
         caption: "Description"
-->
{% if page.gallery_images %}
<div class="image-gallery">
  {% for image in page.gallery_images %}
    <div class="gallery-item" onclick="openImageModal('{{ image.src }}')">
      <img src="{{ image.src }}" alt="{{ image.caption | default: 'Gallery image' }}" loading="lazy">
      {% if image.caption %}
        <div class="gallery-item-caption">{{ image.caption }}</div>
      {% endif %}
    </div>
  {% endfor %}
</div>

<!-- Simple lightbox modal -->
<div id="imageModal" class="image-modal" onclick="closeImageModal()" style="display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); cursor: pointer;">
  <img id="modalImage" style="margin: auto; display: block; max-width: 90%; max-height: 90%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
  <span onclick="closeImageModal()" style="position: absolute; top: 20px; right: 40px; color: white; font-size: 40px; font-weight: bold; cursor: pointer;">&times;</span>
</div>

<script>
function openImageModal(src) {
  document.getElementById('imageModal').style.display = 'block';
  document.getElementById('modalImage').src = src;
}

function closeImageModal() {
  document.getElementById('imageModal').style.display = 'none';
}

document.addEventListener('keydown', function(event) {
  if (event.key === 'Escape') {
    closeImageModal();
  }
});
</script>
{% endif %}
